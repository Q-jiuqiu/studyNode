<!--
 * @Author: quling
 * @Date: 2022-06-27 15:45:11
 * @LastEditors: quling
 * @LastEditTime: 2022-06-27 15:50:30
 * @FilePath: \JavaScript\html\iframe\test.html
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #nobita-test {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        height: 80px;
        background: #860a32;
        opacity: 0.8;
      }

      #sendMessage {
        border: none;
        color: #fff;
        font-size: 28px;
        background: none;
        text-align: center;
        margin: 0 auto;
        line-height: 80px;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <iframe
      id="iframe1"
      frameborder="0"
      name="iframe1"
      scrolling="no"
      src="https://freeges-embedded.qa.partcommunity.com/3d-cad-models"
    >
      <p>你的浏览器不支持iframes.</p>
    </iframe>
    <div id="nobita-test">
      <button id="sendMessage">查看嵌入链接地址</button>
    </div>
  </body>
  <script>
    var IframeOnClick = {
      resolution: 200,
      iframes: [],
      interval: null,
      Iframe: function () {
        this.element = arguments[0];
        this.cb = arguments[1];
      },
      track: function (element, cb) {
        this.iframes.push(new this.Iframe(element, cb));
        if (!this.interval) {
          var _this = this;
          this.interval = setInterval(function () {
            _this.checkClick();
          }, this.resolution);
        }
      },
    };

    // 调用

    var iframe1 = document.getElementById("iframe1");
    IframeOnClick.track(iframe1, function () {
      alert("iframe被点击了！");
    });
  </script>
</html>
